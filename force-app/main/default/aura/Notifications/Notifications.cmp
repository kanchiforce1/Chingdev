<aura:component implements="forceCommunity:themeLayout,forceCommunity:availableForAllPageTypes"
                access="global" controller="PPW_CommunityThemeLayoutController">
    <aura:attribute name="contactUs" type="Boolean" default="true"/>
    <aura:attribute name="localee" type="String" default=""/>
    <aura:attribute name="caseRecordType" type="Object" default="{}"/>
   <aura:handler name="init" value="{!this}" action="{!c.init}" />  
    <aura:attribute name="succesMes" type="String" />
    
   
       
     
   
            <div class="demo-only demo-only_viewport" style="height:4.5rem;">
            
            <div class="slds-notification-container">
                
                
                <section class="slds-notification" role="dialog" aria-labelledby="noti77" aria-describedby="dialog-body-id-42">
                    <div class="slds-notification__body slds-notification__target slds-media" id="dialog-body-id-42">
                        
                            <span class="slds-icon_container slds-icon-standard-task slds-media__figure" title="task">
                                
                            </span>
                            <div class="slds-media__body">
                                 <lightning:spinner aura:id="spinner" variant="brand" size="large"/>
                                <aura:if isTrue="{!v.succesMes}">
                                    <br/>
                                    <div class="slds-notify slds-notify_alert slds-theme_alert-texture slds-theme_warning" role="alert">
                                        <span class="slds-assistive-text">warning</span>
                                        <span class="slds-icon_container slds-icon-utility-warning slds-m-right_x-small" title="Description of icon when needed">
                                          
                                        </span>
                                        <h2>{!v.succesMes}
                                            
                                        </h2>
                                        <div class="slds-notify__close">
                                            <button class="slds-button slds-button_icon slds-button_icon-small" title="Close">
                                               
                                                <span class="slds-assistive-text">Close</span>
                                            </button>
                                        </div>
                                    </div>
                                    <aura:set attribute="else">
                                        <h2 class="slds-text-heading_small slds-m-bottom_xx-small" id="noti77">
                                            Create New Case</h2>
                                        <lightning:recordEditForm aura:id="newCase" 
                                                                  recordTypeId="{!v.caseRecordType.caseRecordTypeId}"
                                                                  objectApiName="Case"
                                                                  onsuccess="{!c.onSuccess}"
                                                                  onsubmit="{!c.onSubmit}"
                                                                  onload="{!c.onLoad}">
                                            <lightning:messages />
                                         
                                            <lightning:inputField fieldName="Subject" />
                                            <lightning:inputField fieldName="Description1__c" />
                                            <lightning:select name="localee" aura:id="localee" label="Please select localee" value="{!v.localee}" required="true" 
                                                              messageWhenValueMissing="Please select which localee under this ticket">
                                                <option value="">choose one...</option>
                                                <option value="US">US</option>
                                                <option value="EU">EU</option>
                                                
                                            </lightning:select>      

                                           <!-- <div class="slds-dropdown-trigger slds-dropdown-trigger_click slds-is-open">
                                                <button class="slds-button slds-button_neutral" title="Show More">
                                                    Create Case <lightning:icon iconName="utility:down" alternativeText="down" size="x-small" title="Create Case" />
                                                    <span class="slds-assistive-text">Create Case</span>
                                                </button>
                                                <div class="slds-dropdown slds-dropdown_left">
                                                    <ul class="slds-dropdown__list" role="menu" aria-label="Show More">
                                                        <li class="slds-dropdown__item" role="presentation">
                                                            <a href="javascript:void(0);" role="menuitem" tabindex="0" class="slds-button slds-button_neutral">
                                                                <span class="slds-truncate" title="US Case">US Case</span>
                                                            </a>
                                                        </li>
                                                        <li class="slds-dropdown__item" role="presentation">
                                                            <a href="javascript:void(0);" role="menuitem" tabindex="-1" class="slds-button slds-button_neutral">
                                                                <span class="slds-truncate" title="EU Case" >EU Case</span>
                                                            </a>
                                                        </li>
                                                        
                                                        
                                                        
                                                    </ul>
                                                </div>
                                            </div>   -->    
                                             
                                                                                
                                            
                                            <lightning:button class="slds-m-top_small" variant="brand" type="submit"
                                                              name="Create Case" label="Create Case" /> 
                                            
                                            
                                        </lightning:recordEditForm>
                                    </aura:set>
                                </aura:if>
                            </div>
                       
                        <button class="slds-button slds-button_icon slds-button_icon-container slds-notification__close"
                                title="Dismiss Call Two: Jane Johnson notification" onclick="{!c.closeCaseWindow}">
                           <lightning:icon iconName="utility:close" alternativeText="Close" title="Close" size="x-small"/>
                            <span class="slds-assistive-text">Close</span>
                        </button>
                    </div>
                </section>
            </div>
        </div>
          
       
</aura:component>